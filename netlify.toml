[build]
  # Build command - using npm instead of yarn to avoid private registry issues
  command = "npm run build:prod"

  # Directory that contains the deploy-ready HTML files and assets
  publish = "public"

  # Environment variables for build
  # Using Firebase v9 compat which doesn't require old grpc package
  environment = { NODE_VERSION = "16.20.2", NPM_FLAGS = "--legacy-peer-deps" }

# Redirect rules for single-page application
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Environment variables (you'll set these in Netlify dashboard)
# Required Firebase configuration:
# - FIREBASE_API_KEY
# - FIREBASE_AUTH_DOMAIN
# - FIREBASE_DATABASE_URL
# - FIREBASE_PROJECT_ID
# - FIREBASE_STORAGE_BUCKET
# - FIREBASE_MESSAGING_SENDER_ID
# - FIREBASE_APP_ID
# - FIREBASE_MEASUREMENT_ID
